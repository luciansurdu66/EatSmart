{"ast":null,"code":"var _asyncToGenerator = require(\"@babel/runtime/helpers/asyncToGenerator\");\nvar db = require(\"../models/index\");\nexports.addRecipe = function () {\n  var _ref = _asyncToGenerator(function* (req, res) {\n    console.log(req.body);\n    var name = req.body.name;\n    var ingredients = req.body.ingredients;\n    var image = req.body.image;\n    try {\n      var recipe = yield db.Recipe.create({\n        name: name,\n        ingredients: ingredients,\n        image: image\n      });\n      res.status(200).json({\n        recipe: recipe,\n        message: 'Recipe created successfully'\n      });\n    } catch (err) {\n      console.log(err);\n      res.status(400).json({\n        err: err,\n        message: 'Recipe could not be created'\n      });\n    }\n  });\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.deleteRecipe = function () {\n  var _ref2 = _asyncToGenerator(function* (req, res) {\n    var id = req.params.id;\n    try {\n      var recipe = yield db.Recipe.destroy({\n        where: {\n          id: id\n        }\n      });\n      res.status(200).json({\n        recipe: recipe,\n        message: 'Recipe deleted successfully'\n      });\n    } catch (err) {\n      console.log(err);\n      res.status(400).json({\n        err: err,\n        message: 'Recipe could not be deleted'\n      });\n    }\n  });\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexports.getRecipes = function () {\n  var _ref3 = _asyncToGenerator(function* (req, res) {\n    try {\n      var recipes = yield db.Recipe.findAll();\n      res.status(200).json({\n        recipes: recipes\n      });\n    } catch (err) {\n      console.log(err);\n      res.status(400).json(err);\n    }\n  });\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["db","require","exports","addRecipe","_ref","_asyncToGenerator","req","res","console","log","body","name","ingredients","image","recipe","Recipe","create","status","json","message","err","_x","_x2","apply","arguments","deleteRecipe","_ref2","id","params","destroy","where","_x3","_x4","getRecipes","_ref3","recipes","findAll","_x5","_x6"],"sources":["/Users/macbook/EatSmart/EatSmart/backend/backend-express/controllers/recipeController.js"],"sourcesContent":["const db = require('../models/index');\n\nexports.addRecipe = async (req, res) => {\n    console.log(req.body);\n    const name = req.body.name;\n    const ingredients = req.body.ingredients;\n    const image = req.body.image;\n\n    try {\n        const recipe = await db.Recipe.create({name, ingredients, image});\n        res.status(200).json({recipe, message: 'Recipe created successfully'});\n    } catch (err) {\n        console.log(err);\n        res.status(400).json({err, message: 'Recipe could not be created'});\n    }\n\n}\n\nexports.deleteRecipe = async (req, res) => {\n    const id = req.params.id;\n\n    try {\n        const recipe = await db.Recipe.destroy({where: {id}});\n        res.status(200).json({recipe, message: 'Recipe deleted successfully'});\n    } catch (err) {\n        console.log(err);\n        res.status(400).json({err, message: 'Recipe could not be deleted'});\n    }\n}\n\nexports.getRecipes = async (req, res) => {\n    try {\n        const recipes = await db.Recipe.findAll();\n        res.status(200).json({recipes});\n    } catch (err) {\n        console.log(err);\n        res.status(400).json(err);\n    }\n}"],"mappings":";AAAA,IAAMA,EAAE,GAAGC,OAAO,kBAAkB,CAAC;AAErCC,OAAO,CAACC,SAAS;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,GAAG,EAAEC,GAAG,EAAK;IACpCC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACI,IAAI,CAAC;IACrB,IAAMC,IAAI,GAAGL,GAAG,CAACI,IAAI,CAACC,IAAI;IAC1B,IAAMC,WAAW,GAAGN,GAAG,CAACI,IAAI,CAACE,WAAW;IACxC,IAAMC,KAAK,GAAGP,GAAG,CAACI,IAAI,CAACG,KAAK;IAE5B,IAAI;MACA,IAAMC,MAAM,SAASd,EAAE,CAACe,MAAM,CAACC,MAAM,CAAC;QAACL,IAAI,EAAJA,IAAI;QAAEC,WAAW,EAAXA,WAAW;QAAEC,KAAK,EAALA;MAAK,CAAC,CAAC;MACjEN,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACJ,MAAM,EAANA,MAAM;QAAEK,OAAO,EAAE;MAA6B,CAAC,CAAC;IAC1E,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVZ,OAAO,CAACC,GAAG,CAACW,GAAG,CAAC;MAChBb,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACE,GAAG,EAAHA,GAAG;QAAED,OAAO,EAAE;MAA6B,CAAC,CAAC;IACvE;EAEJ,CAAC;EAAA,iBAAAE,EAAA,EAAAC,GAAA;IAAA,OAAAlB,IAAA,CAAAmB,KAAA,OAAAC,SAAA;EAAA;AAAA;AAEDtB,OAAO,CAACuB,YAAY;EAAA,IAAAC,KAAA,GAAArB,iBAAA,CAAG,WAAOC,GAAG,EAAEC,GAAG,EAAK;IACvC,IAAMoB,EAAE,GAAGrB,GAAG,CAACsB,MAAM,CAACD,EAAE;IAExB,IAAI;MACA,IAAMb,MAAM,SAASd,EAAE,CAACe,MAAM,CAACc,OAAO,CAAC;QAACC,KAAK,EAAE;UAACH,EAAE,EAAFA;QAAE;MAAC,CAAC,CAAC;MACrDpB,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACJ,MAAM,EAANA,MAAM;QAAEK,OAAO,EAAE;MAA6B,CAAC,CAAC;IAC1E,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVZ,OAAO,CAACC,GAAG,CAACW,GAAG,CAAC;MAChBb,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACE,GAAG,EAAHA,GAAG;QAAED,OAAO,EAAE;MAA6B,CAAC,CAAC;IACvE;EACJ,CAAC;EAAA,iBAAAY,GAAA,EAAAC,GAAA;IAAA,OAAAN,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA;AAEDtB,OAAO,CAAC+B,UAAU;EAAA,IAAAC,KAAA,GAAA7B,iBAAA,CAAG,WAAOC,GAAG,EAAEC,GAAG,EAAK;IACrC,IAAI;MACA,IAAM4B,OAAO,SAASnC,EAAE,CAACe,MAAM,CAACqB,OAAO,CAAC,CAAC;MACzC7B,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACiB,OAAO,EAAPA;MAAO,CAAC,CAAC;IACnC,CAAC,CAAC,OAAOf,GAAG,EAAE;MACVZ,OAAO,CAACC,GAAG,CAACW,GAAG,CAAC;MAChBb,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACE,GAAG,CAAC;IAC7B;EACJ,CAAC;EAAA,iBAAAiB,GAAA,EAAAC,GAAA;IAAA,OAAAJ,KAAA,CAAAX,KAAA,OAAAC,SAAA;EAAA;AAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}